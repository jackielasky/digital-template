<!DOCTYPE html>
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
    <title>CS325 Digital Game 1: Let's Travel!</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>

<style>
body
{
    color: #777;
    font-family: "Avenir", Verdana, sans-serif;
}
#readme
{
    margin-top: 10px;
}
</style>

    </head>
<body>
<div id="game"></div>
<div id="readme">
<h2>Let's Travel!</h2>
<ul>

<li><strong>High Concept:</strong>
Collect all the pins, each represents 15 countries, by using the airplanes to reach the pins around the world..
</li>

<li><strong>Player Experience Goals:</strong>
The excitement of traveling the world.
</li>

<li><strong>Genre:</strong>
Travel
</li>

<li><strong>Game play:</strong>
The character can jump upwards, float downwards ith gravity, and move left and right while jumping to reach the pins throughout the map.
</li>

<li><strong>Prototype goal:</strong>
Collecion of all pins/countries.
</li>

<li><strong>Features:</strong>
It's vibrant colors and interesting story.
</li>

<li><strong>Setting/Premise:</strong>
You are a world traveler on planet Earth and you travel the world to collect pins of countries you've visited.
</li>

<li><strong>Story:</strong>
There are 195 countries in the world, each pin that is collected represents 15 countries visited. Use the airplanes to reach these destinations
The game is complete when you've visited every country in the world.
</li>

<li><strong>Target Audience:</strong>
The target Audience is going to be teenagers to young adults that enjoy traveling.
</li>

<li><strong>Play time:</strong>
1-2 minutes.
</li>

<li><strong>Strategies:</strong>
Strategies required are just attention and ability to use keyboard input control.
</li>

<li><strong>Prototype Assets:</strong>
I used paint to rezise and recolor photos I located on the web.
</li>

<li><strong>Prototype Closest Other Game:</strong>
I borrowed the game from Phaser Examples that used stars and platforms to jump and collect stars in the Phaser tutorials for making a game.
</li>

</ul>
</div>
</body>

<body>
<script type="text/javascript">

var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });

function preload() {

    game.load.image('sky', 'assets/colormap2.png');
    game.load.image('ground', 'assets/platform.png');
    game.load.image('star', ' assets/images/apple.png');
    game.load.image('ground2', 'assets/airplane.png');
    game.load.spritesheet('dude', 'assets/dude.png', 32, 48);
    game.load.audio('boden', 'assets/deepChill.ogg');


}

var player;
var platforms;
var cursors;
var music;
var stars;
var score = 0;
var scoreText;

function create() {

    //  We're going to be using physics, so enable the Arcade Physics system
    game.physics.startSystem(Phaser.Physics.ARCADE);

    //  A simple background for our game
    game.add.sprite(0, 0, 'sky');

    //music attributes:
    music = game.add.audio('boden');
    music.play();
    
    //  The platforms group contains the ground and the 2 ledges we can jump on
    platforms = game.add.group();

    //  We will enable physics for any object that is created in this group
    platforms.enableBody = true;

    // Here we create the ground.
    var ground = platforms.create(0, game.world.height - 64, 'ground');

    //  Scale it to fit the width of the game (the original sprite is 400x32 in size)
    ground.scale.setTo(2, 2);

    //  This stops it from falling away when you jump on it
    ground.body.immovable = true;

    //  Now let's create three ledges
    var ledge = platforms.create(400, 400, 'ground2');
    ledge.body.immovable = true;

    ledge = platforms.create(-200, 250, 'ground2');
    ledge.body.immovable = true;
    
    ledge = platforms.create(300,300,'ground2');
    ledge.body.immovable = true;
    
    ledge = platforms.create(100,200,'ground2');
    ledge.body.immovable = true;
    
      ledge = platforms.create(600,350,'ground2');
    ledge.body.immovable = true;

    // The player and its settings
    player = game.add.sprite(32, game.world.height - 150, 'dude');

    //  We need to enable physics on the player
    game.physics.arcade.enable(player);

    //  Player physics properties. Give the little guy a slight bounce.
    player.body.bounce.y = 0.4;
    player.body.gravity.y = 250;
    player.body.collideWorldBounds = true;

    //  Our two animations, walking left and right.
    player.animations.add('left', [0, 1, 2, 3], 10, true);
    player.animations.add('right', [5, 6, 7, 8], 10, true);

    //  Finally some stars to collect
    stars = game.add.group();

    //  We will enable physics for any star that is created in this group
    stars.enableBody = true;

    //  Here we'll create 13 pins of them evenly spaced apart
    for (var i = 0; i < 13; i++)
    {
        //  Create a star inside of the 'stars' group
        var star = stars.create(i * 60, 0, 'star');

        //  Let gravity do its thing
        star.body.gravity.y = 300;

        //  This just gives each star a slightly random bounce value
        star.body.bounce.y = 0.7 + Math.random() * 0.2;
    }

    //  The score
    scoreText = game.add.text(16, 16, 'score: 0', { fontSize: '32px', fill: '#000' });

    //  Our controls.
    cursors = game.input.keyboard.createCursorKeys();
    
}

function update() {

    //  Collide the player and the stars with the platforms
    game.physics.arcade.collide(player, platforms);
    game.physics.arcade.collide(stars, platforms);

    //  Checks to see if the player overlaps with any of the stars, if he does call the collectStar function
    game.physics.arcade.overlap(player, stars, collectStar, null, this);

    //  Reset the players velocity (movement)
    player.body.velocity.x = 0;

    if (cursors.left.isDown)
    {
        //  Move to the left
        player.body.velocity.x = -150;

        player.animations.play('left');
    }
    else if (cursors.right.isDown)
    {
        //  Move to the right
        player.body.velocity.x = 150;

        player.animations.play('right');
    }
    else
    {
        //  Stand still
        player.animations.stop();

        player.frame = 4;
    }
    
    //  Allow the player to jump if they are touching the ground.
    if (cursors.up.isDown && player.body.touching.down)
    {
        player.body.velocity.y = -350;
    }

}

function collectStar (player, star) {
    
    // Removes the star from the screen
    star.kill();

    //  Add and update the score
    score += 15;
    scoreText.text = 'Countries Visited: ' + score;

}

</script>
</body>
</html>
